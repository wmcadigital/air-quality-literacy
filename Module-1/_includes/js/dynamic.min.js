!function(){for(var method,methods=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],length=methods.length,console=window.console=window.console||{},noop=function(){};length--;)console[method=methods[length]]||(console[method]=noop);if("WCMA_AirQuality_Module1"!=document.title)throw"ERROR 41";console.log("2.2.0")}();var isMobileDevice=!1;$(document).ready(function(){var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()&&(isMobileDevice=!0)});var imageFolder="_includes/images",videoFolder="_includes/video",debugMode=!1;console.log(debugMode);var theBgs=[];$.getJSON("_includes/js/images.json",function(json){$.each(json.images,function(index,item){theBgs.push([item.src,item.name,item.type])})}).done(function(){for(var i=0;i<theBgs.length;i++)"image"==theBgs[i][2]?0==isMobileDevice&&($("body").prepend('<div class="imageFader '+theBgs[i][1]+'"></div>'),debugMode&&console.log(theBgs[i][1]),$("."+theBgs[i][1]).css({"background-image":"url("+imageFolder+"/"+theBgs[i][0]+")"})):"video"==theBgs[i][2]&&$("body").prepend('<video class="videoFader '+theBgs[i][1]+'" loop muted><source src="'+videoFolder+"/"+theBgs[i][0]+'" type="video/mp4"></video>');$("body").css({overflow:"hidden"}),$(".imageFader").css({position:"fixed",width:"100%",height:"100%","min-width":"918px","min-height":"618px",top:"0",right:"0",bottom:"0",left:"0",opacity:"0","background-position":"center center","background-size":"auto","z-index":"0"}),$(".videoFader").css({position:"fixed",width:"100%",height:"100%","min-width":"918px","min-height":"618px",opacity:"0",top:"0",right:"0",bottom:"0",left:"0","object-fit":"cover","z-index":"0"}),$(".StartImage").css({"z-index":theBgs.length}),$(".StartImage").animate({opacity:"1"},1e3);var swfTable=$("#divSwf").closest("table");$(swfTable).css({position:"relative","z-index":"40000"})}),$("head").append("<style> #preso { position: relative; z-index: 20; border: 0px solid #FFF; } #mobile-start-container { z-index: 21; } #divWebObjects div {  z-index:50000 !important; } iframe.fullscreen { position: relative; z-index: 40000; } .is-mobile .load-container { background: none!important; } .is-mobile #overlay-mobile { background: none!important; } </style>");var prevImage="",isIOS=-1<navigator.userAgent.indexOf("AppleWebKit/")&&-1<navigator.userAgent.indexOf("Mobile/"),isAndroid=-1<navigator.userAgent.indexOf("Android");function switchBG(imageToFade,howMuchSpeed,isVideo){if(debugMode&&console.log("switchBG"),debugMode&&console.log("imageToFade is "+imageToFade),debugMode&&console.log("prevImage is "+prevImage),debugMode&&console.log("howMuchSpeed is "+howMuchSpeed),debugMode&&console.log("isVideo is "+isVideo),null==howMuchSpeed&&(howMuchSpeed=0),null==isVideo&&(isVideo=!1),imageToFade!=prevImage)if(debugMode&&console.log("Image different to previous. Do stuff."),null!=imageToFade){debugMode&&console.log("Image not undefined."),debugMode&&console.log("prevImage was "+prevImage),prevImage=imageToFade,debugMode&&console.log("prevImage is now "+prevImage),debugMode&&console.log("*****");for(var i=0;i<theBgs.length;i++){debugMode&&console.log(theBgs.length);var newZ=$("."+theBgs[i][1]).css("z-index")-1;debugMode&&console.log("image "+theBgs[i][1]+" new Z "+newZ),$("."+theBgs[i][1]).css({"z-index":newZ})}debugMode&&console.log("IMAGETOFADE "+imageToFade+" new Z "+theBgs.length),1==isVideo?(debugMode&&console.log("is vid"),$("."+imageToFade).get(0).currentTime=0,$("."+imageToFade).css({opacity:0,"z-index":theBgs.length}),"StartVideo"==imageToFade&&$("."+imageToFade).css({opacity:1}).stop().animate({opacity:"1"},howMuchSpeed,function(){$("."+imageToFade).get(0).play()})):(debugMode&&console.log("isnt vid"),$("."+imageToFade).css({opacity:0,"z-index":theBgs.length}).stop().animate({opacity:"1"},howMuchSpeed,function(){debugMode&&console.log("imageToFade fadeTo finish");for(var i=0;i<theBgs.length;i++);})),debugMode&&console.log("-----")}else{debugMode&&console.log("Image is undefined.");for(i=0;i<theBgs.length;i++)$("."+theBgs[i][1]).animate({opacity:"0"},howMuchSpeed);prevImage=""}else debugMode&&console.log("Image same as previous. No need to do anything.")}debugMode&&console.log("isIOS is "+isIOS),debugMode&&console.log("isAndroid is "+isAndroid);var winWidth=jQuery(window).width(),winHeight=jQuery(window).height(),parentDocWidth=$(window.parent.document).width(),parentDocHeight=$(window.parent.document).height();function getTransform(el){var results=$(el).css("-webkit-transform").match(/matrix(?:(3d)\(\d+(?:, \d+)*(?:, (\d+))(?:, (\d+))(?:, (\d+)), \d+\)|\(\d+(?:, \d+)*(?:, (\d+))(?:, (\d+))\))/);return results?"3d"==results[1]?results.slice(2,5):(results.push(0),results.slice(5,8)):[0,0,0]}function updateImageSize(){debugMode&&console.log("updateImageSize();"),debugMode&&console.log("image WIDTH = "+$(".imageFader").width()),debugMode&&console.log("image HEIGHT = "+$(".imageFader").height()),debugMode&&console.log("current window WIDTH = "+$(window.parent.document).width()),debugMode&&console.log("current window HEIGHT = "+$(window.parent.document).height()),$(".imageFader, .videoFader").css({width:"auto",height:parentDocHeight}),debugMode&&console.log("w auto h "+parentDocHeight)}function outline(outline){var isIE=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g);debugMode&&console.log("outline is "+outline),isIE||(outline?($("#divSwf").css({outline:"1px solid #fff","outline-offset":"-10px"}),$("#slideframe").css({outline:"1px solid #fff"})):($("#divSwf").css({outline:"0px solid #fff","outline-offset":"-10px"}),$("#slideframe").css({outline:"0px solid #fff"})))}debugMode&&console.log("ORIGINAL WINDOW WIDTH = "+winWidth),debugMode&&console.log("ORIGINAL WINDOW HEIGHT = "+winHeight),debugMode&&console.log("parent WINDOW WIDTH = "+parentDocWidth),debugMode&&console.log("parent WINDOW HEIGHT = "+parentDocHeight);